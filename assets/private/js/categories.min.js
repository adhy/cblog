function reload_table(){table.ajax.reload(null,!1)}function resetForm(){$("#maddcafo").trigger("reset")}function del_t(e){$.ajax({type:"POST",url:"categories/change",data:{change:e},dataType:"json",success:function(a){"true"==a.msg?($("#h4text").html('<i class="fa fa-question-circle"> Delete '+a.category+"</i>"),$("div.modal-footer .yes").attr("onclick",'prodel("'+e+'")'),$("#confdel").modal("show").on("shown.bs.modal")):toastr.error("Data "+a.msg+" !")}})}function prodel(e){$.ajax({type:"POST",url:"categories/prodel",data:{"delete":e},dataType:"json",success:function(e){"success"==e.msg?($("#confdel").modal("hide").on("shown.bs.modal"),toastr.success("Category "+e.cat+" has been deleted !"),reload_table()):toastr.error("An error occured, please try again !")}})}function edit_modalt(e){$("#meditca").find("form")[0].reset(),$("#meditcafo").formValidation("resetForm",!0),$.ajax({type:"POST",url:"categories/change",data:{change:e},dataType:"json",success:function(e){"true"==e.msg?($("#enmc").val(e.category),$("#meditca").modal("show").on("shown.bs.modal")):toastr.error("Data "+e.msg+" !")}})}function over(e){$.ajax({type:"POST",url:"categories/over",data:{take:e},dataType:"json",success:function(a){"Enable"==a.msg?(toastr.success(a.msg+" Category "+a.cat+" !"),$("[data-target="+e+"]").attr("class","btn btn-sm btn-success"),$("[data-target="+e+"]").html("Disable"),$("[data-target=dr"+e+"]").attr("class","btn btn-sm btn-success")):(toastr.error(a.msg+" Category "+a.cat+" !"),$("[data-target="+e+"]").attr("class","btn btn-sm btn-danger"),$("[data-target="+e+"]").html("Enable"),$("[data-target=dr"+e+"]").attr("class","btn btn-sm btn-danger"))}})}var table;$(document).ready(function(){table=$("#tablecategories").DataTable({searching:!1,paging:!0,ordering:!1,info:!1,processing:!0,serverSide:!0,ajax:{url:"categories/view-tabel",type:"POST"},responsive:!0,language:{sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"}}})}),$("#addca").click(function(){resetForm(),$.ajax({type:"POST",url:"categories/addform",dataType:"html",success:function(e){$("#maddca").modal("show").on("shown.bs.modal"),$("#tampil").html(e)}})}),$(document).ready(function(){$("#meditcafo").formValidation({framework:"bootstrap",excluded:":disabled",icon:{valid:"",invalid:"",validating:""},locale:"id_ID",fields:{category:{validators:{notEmpty:{},stringLength:{max:100},remote:{url:"categories/catauths",type:"POST",delay: 3000}}}}}).on("success.form.fv",function(e){e.preventDefault(),$.ajax({type:"POST",url:"categories/proch",data:$("#meditcafo").serialize(),dataType:"json",success:function(e){"success"==e.msg?(toastr.success("Change Success ! "),reload_table(),$("#meditca").modal("hide")):toastr.error("Change Error !")}})})});